

<script src="~/Scripts/jquery-1.10.2.min.js"></script>
<script src="~/Scripts/jquery.validate.min.js"></script>
<script src="~/Scripts/jquery.validate.unobtrusive.min.js"></script>
<script src="~/Scripts/toastr.js"></script>
<script src="~/Scripts/toastr.min.js"></script>
<link href="~/assets/css/plugins/toastr/toastr.css" rel="stylesheet" />
<script src="~/assets/css/plugins/toastr/toastr.min.js"></script>
<link href="~/assets/css/plugins/toastr/toastr.min.css" rel="stylesheet" />


@model mvc.Models.DesignationDetails

@{
    ViewBag.Title = "Designation List";
}



<div class="modal-dialog" id="pnl-mdlCandidate">
    @using (Html.BeginForm(null, null, FormMethod.Post, new { @class = "", @id = "frmCandidate" }))
    {
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h3 class="modal-title">Edit Designation</h3>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="name">Edit Designation</label>
                    @Html.TextBoxFor(Model =>Model.desig_id, new { @class = "form-control hidden", placeholder = "Enter Designation Name", title = "desig_id", @id = "desig_id" })

                    @Html.TextBoxFor(Model =>Model.desg_desc, new { @class = "form-control", placeholder = "Enter Designation Name", title = "desg_desc", @id = "desg_desc" })
                    <p id="validation" style="color:red;">Enter Designation Name</p>
                    @*@Html.ValidationMessageFor(model => model.desg_desc, "", new { @class = "text-danger" })*@
                    <div class="text-danger" id="name_error_msg"></div>

                </div>

            </div>

            <div class="modal-footer">



                <button type="submit" id="btnEdit" name="btnEdit" class="btn btn-primary">Uddate</button>
                @Html.ActionLink("Cancel", "IndexForDesignation", "Master", null, new { @class = "btn btn-default" })
            </div>

        </div>
    }
</div>

<div class="container m-t-md">
    <div class="row">
        
        <div id="grid1" class="col-sm-10">
            @*@Html.Partial("PageGrid")*@
        </div>

        <div class="col-sm-10">
            <div class="container m-t-md">
                <div class="row">
                    <div class="col-sm-12">

                    </div>
                </div>
            </div>

        </div>
    </div>
</div>

<script>

    $(document).ready(function () {
        $("#validation").hide();
    });


    //========================================Update code==========================================================

    $(document).ready(function () {

        $('#btnEdit').on('click', function () {
            fnvalidationforupdate();
            return false;
        });
    });

     
    //================================================================validation function for update===================================================

    function fnvalidationforupdate() {
        var a;
        a = $("#desg_desc").val();

        if (a == "") {
            $("#validation").show();
            toastr.success("Enter Designation Name.");
            return false;
        }
        else {
            $("#validation").hide();
            $.ajax({
                type: 'POST',
                dataType: 'json',
                url: '/Master/edit',
                data:
                    {
                        desig_id: $("#desig_id").val(),
                        desg_desc: $("#desg_desc").val(),

                    },
                success: function (da) {
                    //alert("data inserted sucessfully");
                    toastr.success("Desiganation Updated successfully.");
                    $("#mdleditDesignation .close").click()
                    
                },

                error: function (XMLHttpRequest, textStatus, errorThrown) {

                }
            });

            return true;
        }
    }


    $(document).ready(function () {

        toastr.options = {
            "closeButton": true,
            "positionClass": "toast-top-right",
            "onclick": null,
            "showDuration": "0",
            "hideDuration": "0",
            "timeOut": "0",
            "showMethod": "fadeIn"
        };

    });



</script>



